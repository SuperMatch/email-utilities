<!DOCTYPE html>
<html>
<head>
    <title>Campaign Result {% if cid %}for {{ cid }}{% endif %}</title>
    {% load staticfiles %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/foundation.min.css' %}" />
</head>
<body>
    <div class="row">
        <h4>Campaign ID: {% if cid %}{{ cid }}{% else %}Not found{% endif %}</h4>
    </div>
    <hr/>
    <div class="row">
        <h4>Subject: {% if cid %}{{ sline }}{% else %}Not found{% endif %}</h4>
    </div>
    <hr/>
    <div class="row panel">
        <h4>Errors:</h4>
        {% if errorList %}
            <table>
            {% load dict_extras %}
            {% for error in errorList %}
                <tr>
                    <td width="200">Line: {{ error.0 }},</td>
                    <td width="200">Offset: {{ error.1 }}</td>
                    <td width="500">{{ errMsg|key:error.2 }}{% if error.3 %}{{ error.3 }}{% endif %}</td>
                </tr>
            {% endfor %}
            </table>
        {% endif %}
    </div>
    <hr/>
    <div class="row panel">
        <h4>Alias Dict:</h4>
        {% if aliasDict %}
            <table>
                <tr>
                    <th class="text-left" width="200">Alias Name</th>
                    <th class="text-left" width="200">Duplicated Times</th>
                </tr>
            {% for alias, times in aliasDict.items %}
                <tr>
                    <td>{{ alias }}</td>
                    <td {% if times > 1 %}style="background-color: #f04124; color: #ffffff;" {% endif %}>{{ times }}</td>
                </tr>
            {% endfor %}
            </table>
        {% endif %}
    </div>
    <div class="row panel">
        <h4>Alias Mapping:</h4>
        {% if aliasList %}
            <table>
                <tr>
                    <th class="text-left" width="200">Alias Name</th>
                    <th class="text-left" width="400">Raw Link</th>
                    <th class="text-left" width="150">Conversion</th>
                    <th class="text-left" width="150">is Duplicated?</th>
                </tr>
            {% for aliasObj in aliasList %}
                <tr>
                    <td>{{ aliasObj.0 }}</td>
                    <td>{{ aliasObj.1 }}</td>
                    <td {% if aliasObj.2 == "True" %}style="background-color: #74bfdd; color: #000000;" {% elif aliasObj.2 == "False" %}style="background-color: #f08a24; color: #000000;" {% endif %}>{{ aliasObj.2 }}</td>
                    <td {% if aliasObj.3 == "True" %}style="background-color: #f04124; color: #ffffff;" {% endif %}>{{ aliasObj.3 }}</td>
                </tr>
            {% endfor %}
            </table>
        {% endif %}
    </div>
</body>
</html>